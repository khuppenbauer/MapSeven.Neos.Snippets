{namespace snippets=Flowpack\Snippets\ViewHelpers}
<f:if condition="{post}">
    <div class="widget widget_list">
        <f:if condition="{title}"><h5 class="widget_title">{title}</h5></f:if>
        <ul class="no-bullet">
            <li>
                <f:link.action action="search" arguments="{category: post.category.name}" controller="Search">{post.category.name}</f:link.action> ({post.category.numberOfPosts})
                <a href="#" class="jq-follow-category" data-category="{post.category -> f:format.identifier()}"><i class="icon-{f:if(condition:post.category.followed, then: 'minus', else: 'plus')}-squared"></i></a>
            </li>
            <f:for each="{post.tags}" as="tag">
                <li>
                    <f:link.action action="search" arguments="{tag: tag.name}" controller="Search">{tag}</f:link.action> ({tag.numberOfPosts})</span>
                    <a href="#" class="jq-follow-tag" data-tag="{tag -> f:format.identifier()}"><i class="icon-{f:if(condition:tag.followed, then: 'minus', else: 'plus')}-squared"></i></a></span>
                </li>
            </f:for>
        </ul>
    </div>
</f:if>